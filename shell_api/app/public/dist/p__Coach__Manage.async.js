(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"KT3/":function(e,t,a){"use strict";a.r(t);a("5NDa");var n,o,l,i,r=a("5rEg"),c=(a("IzEo"),a("bx4M")),s=(a("g9YV"),a("wCAj")),u=(a("fOrg"),a("+KLJ")),d=a("jehZ"),h=a.n(d),m=(a("+L6B"),a("2/Rp")),p=(a("14J3"),a("BMrR")),g=(a("jCWc"),a("kPKH")),y=(a("2qtc"),a("kLXV")),f=(a("/zsF"),a("PArb")),S=a("2Taf"),v=a.n(S),C=a("vZ4D"),E=a.n(C),k=a("l4Ni"),w=a.n(k),x=a("ujKo"),b=a.n(x),I=a("rlhR"),Q=a.n(I),R=a("MhPg"),q=a.n(R),M=a("p0pE"),P=a.n(M),z=(a("y8nQ"),a("Vl3Y")),K=a("q1tI"),T=a.n(K),L=a("MuoO"),A=a("usdK"),F=a("+kNj"),j=a("zHco"),N=a("S+sS"),O=F["a"].Description,B=z["a"].Item,D=(n=Object(L["connect"])(function(e){var t=e.coach,a=e.loading;return P()({},t,{data:t.coach,loading:a.models.coach})}),o=z["a"].create(),n(l=o((i=function(e){function t(){var e,a;v()(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return a=w()(this,(e=b()(t)).call.apply(e,[this].concat(o))),a.state={pageSize:10,currentPage:1,selectedRowKeys:[],isShowQuitModal:!1,quitIds:[],quitReason:""},a.formItemLayout={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},a.searchButtonLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:6}}},a.columns=[{title:"\u6559\u7ec3ID",dataIndex:"id"},{title:"\u6559\u7ec3\u59d3\u540d",dataIndex:"name"},{title:"\u6027\u522b",dataIndex:"gender",render:function(e){return"male"===e?"\u7537":"\u5973"}},{title:"\u8054\u7cfb\u65b9\u5f0f",dataIndex:"concat"},{title:"\u6559\u7ec3\u7c7b\u578b",dataIndex:"coachTypeName"},{title:"\u8bfe\u7a0b\u7c7b\u578b",dataIndex:"className"},{title:"\u6240\u5c5e\u95e8\u5e97",dataIndex:"belongsName"},{title:"\u5165\u804c\u65f6\u95f4",dataIndex:"entryTime"},{title:"\u64cd\u4f5c",dataIndex:"key",render:function(e,t){return T.a.createElement(K["Fragment"],null,T.a.createElement("a",{onClick:function(){return A["a"].push("/coach/manage/".concat(t.id))}},"\u8be6\u60c5"),T.a.createElement(f["a"],{type:"vertical"}),t.workStatus?T.a.createElement("a",{onClick:a.handleQuitClick},"\u79bb\u804c"):"\u5df2\u79bb\u804c",t.workStatus?T.a.createElement(f["a"],{type:"vertical"}):null,t.workStatus?T.a.createElement("a",{onClick:a.handleToggleClick.bind(Q()(a),t.id,t.status)},t.status?"\u7981\u7528":"\u542f\u7528"):null)}}],a.handleQuitClick=function(e){a.setState({isShowQuitModal:!0,quitIds:[e]})},a.onQuitConfirm=function(){var e=a.props.dispatch,t=a.state.quitIds;e({type:"coach/quit",payload:{ids:t}}).then(function(){return a.setState({isShowQuitModal:!1,quitIds:[]})})},a.onQuitCancel=function(){var e=a.state.isShowQuitModal;a.setState({isShowQuitModal:!e})},a.handleQuitReason=function(e){a.setState({quitReason:e.target.value})},a.handlePartQuit=function(){var e=a.state.selectedRowKeys;a.setState({isShowQuitModal:!0,quitIds:e})},a.handleToggleClick=function(e,t){var n=a.props.dispatch,o=t?"\u7981\u7528":"\u542f\u7528";y["a"].confirm({title:o,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",content:"".concat(o,"\u540e\u8be5\u6559\u7ec3").concat(t?"\u65e0\u6cd5":"\u5373\u53ef","\u6b63\u5e38\u5de5\u4f5c\uff0c\u662f\u5426\u786e\u5b9a").concat(o),onOk:function(){n({type:"coach/change-status",payload:{id:e,status:0===t?1:0}})}})},a.enhanceComponet=function(e){return Object(N["b"])(P()({},e,{props:a.props,layout:a.formItemLayout}))},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.handleTableChange=function(e){var t={currentPage:e.current,pageSize:e.pageSize};a.handleSearch(t)},a.handleFormReset=function(){var e=a.props.form;e.resetFields(),a.handleSearch()},a.handleSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageSize,n=void 0===t?10:t,o=e.currentPage,l=void 0===o?1:o,i=a.props,r=i.dispatch,c=i.form;c.validateFields(function(e,t){e||(a.setState({pageSize:n,currentPage:l}),r({type:"coach/getCoachList",payload:t}))})},a}return q()(t,e),E()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"coach/getBelongs"}),this.handleSearch()}},{key:"renderSearchForm",value:function(){var e=this.props.belongs;return T.a.createElement(z["a"],null,T.a.createElement(p["a"],{gutter:{md:8,lg:24,xl:48}},T.a.createElement(g["a"],{md:8,sm:24},this.enhanceComponet({label:"\u5458\u5de5\u59d3\u540d",key:"name"})),T.a.createElement(g["a"],{md:8,sm:24},this.enhanceComponet({type:"select",label:"\u5458\u5de5\u6027\u522b",key:"gender",options:[{value:"male",name:"\u7537"},{value:"female",name:"\u5973"}]})),T.a.createElement(g["a"],{md:8,sm:24},this.enhanceComponet({label:"\u8054\u7cfb\u65b9\u5f0f",key:"concat"}))),T.a.createElement(p["a"],{gutter:{md:8,lg:24,xl:48}},T.a.createElement(g["a"],{md:8,sm:24},this.enhanceComponet({type:"select",label:"\u6240\u5c5e\u95e8\u5e97",key:"belongs",options:e.map(function(e){return{value:e.id,name:e.name}})})),T.a.createElement(g["a"],{md:8,sm:24},T.a.createElement(B,h()({},this.searchButtonLayout,{style:{textAlign:"right"}}),T.a.createElement(m["a"],{type:"primary",onClick:this.handleSearch},"\u67e5\u8be2"),T.a.createElement(m["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}},{key:"render",value:function(){var e=this.props,t=e.coach,a=t.pagination,n=void 0===a?{}:a,o=t.list,l=void 0===o?[]:o,i=e.loading,d=this.state,h=d.pageSize,p=d.currentPage,g=d.selectedRowKeys,f=d.quitIds,S=d.isShowQuitModal,v=d.quitReason;return T.a.createElement(j["a"],{title:"\u6559\u7ec3\u7ba1\u7406"},T.a.createElement(c["a"],{bordered:!1},T.a.createElement("div",null,T.a.createElement("div",null,this.renderSearchForm()),T.a.createElement("div",null,T.a.createElement(u["a"],{message:"\u540e\u53f0\u6559\u7ec3\u603b\u6570\u91cf\uff1a".concat(n.total||0,"\u5bb6"),type:"info"})),T.a.createElement("div",{style:{textAlign:"right",margin:"20px 0 20px 0"}},T.a.createElement(m["a"],{disabled:!g.length,onClick:this.handlePartQuit,style:{marginRight:20}},"\u6279\u91cf\u79bb\u804c"),T.a.createElement(m["a"],{icon:"plus",type:"primary",onClick:function(){return A["a"].push("/coach/add")}},"\u65b0\u5efa")),T.a.createElement(s["a"],{rowKey:"id",rowSelection:{selectedRowKeys:g,onChange:this.onSelectChange,getCheckboxProps:function(e){return{disabled:0===e.workStatus}}},columns:this.columns,dataSource:l,loading:i,pagination:{pageSize:h,current:p},onChange:this.handleTableChange}))),T.a.createElement(y["a"],{title:f.length>1?"\u6279\u91cf\u79bb\u804c":"\u79bb\u804c",visible:S,onOk:this.onQuitConfirm,onCancel:this.onQuitCancel},T.a.createElement("p",{style:{textAlign:"center"}},"\u89e3\u9664\u5173\u7cfb\u5373\u5f00\u9664\u8be5",f.length>1?"\u6279":"","\u5458\u5de5\uff0c\u662f\u5426\u786e\u5b9a\u89e3\u9664\u5173\u7cfb\uff1f"),T.a.createElement(F["a"],{size:"large",style:{margin:"20px 50px 20px 95px"}},T.a.createElement(O,{term:"\u79bb\u804c\u539f\u56e0"},T.a.createElement(r["a"].TextArea,{style:{verticalAlign:"top",width:200,height:100},value:v,onChange:this.handleQuitReason})))))}}]),t}(K["PureComponent"]),l=i))||l)||l);t["default"]=D}}]);