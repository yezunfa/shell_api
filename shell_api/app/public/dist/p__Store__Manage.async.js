(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[47],{TMm4:function(e,a,t){"use strict";t.r(a);t("IzEo");var n,r,l,c,o=t("bx4M"),i=(t("g9YV"),t("wCAj")),s=(t("fOrg"),t("+KLJ")),m=(t("+L6B"),t("2/Rp")),d=(t("14J3"),t("BMrR")),u=(t("jCWc"),t("kPKH")),p=t("jehZ"),h=t.n(p),g=(t("5NDa"),t("5rEg")),f=(t("P2fV"),t("NJEC")),E=(t("/zsF"),t("PArb")),y=t("2Taf"),v=t.n(y),I=t("vZ4D"),x=t.n(I),C=t("l4Ni"),S=t.n(C),b=t("ujKo"),k=t.n(b),w=t("MhPg"),L=t.n(w),z=(t("OaEy"),t("2fM7")),P=(t("y8nQ"),t("Vl3Y")),F=t("q1tI"),M=t.n(F),N=t("MuoO"),j=t("usdK"),A=t("zHco"),J=t("uYNw"),K=P["a"].Item,O=z["a"].Option,B=(n=Object(N["connect"])(function(e){var a=e.store,t=e.loading;return{store:a,loading:t.models.store}}),r=P["a"].create(),n(l=r((c=function(e){function a(){var e,t;v()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=S()(this,(e=k()(a)).call.apply(e,[this].concat(r))),t.state={pageSize:10,currentPage:1},t.formItemLayout={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},t.searchButtonLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:6}}},t.columns=[{title:"\u95e8\u5e97\u540d\u5b57",dataIndex:"name"},{title:"\u95e8\u5e97\u8d1f\u8d23\u4eba",dataIndex:"leaderName"},{title:"\u8054\u7cfb\u65b9\u5f0f",dataIndex:"concat"},{title:"\u7701\u4efd",dataIndex:"provinceName"},{title:"\u57ce\u5e02",dataIndex:"cityName"},{title:"\u533a\u57df",dataIndex:"address"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return e?"\u542f\u7528":"\u7981\u7528"}},{title:"\u64cd\u4f5c",dataIndex:"id",render:function(e,a){return M.a.createElement(F["Fragment"],null,M.a.createElement("a",{onClick:function(){return j["a"].push("/store/manage/".concat(e))}},"\u8be6\u60c5"),M.a.createElement(E["a"],{type:"vertical"}),M.a.createElement(f["a"],{title:"\u662f\u5426\u786e\u5b9a".concat(a.status?"\u7981\u7528":"\u542f\u7528","\uff1f"),onConfirm:function(){return t.handleConfirm(e,a.status)}},M.a.createElement("a",null,a.status?"\u7981\u7528":"\u542f\u7528")))}}],t.handleConfirm=function(e,a){var n=t.props.dispatch;n({type:"store/check",payload:{id:e,status:a}})},t.handleTableChange=function(e){var a={currentPage:e.current,pageSize:e.pageSize};t.handleSearch(a)},t.handleFormReset=function(){var e=t.props.form;e.resetFields(),t.handleSearch()},t.handleSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.pageSize,n=void 0===a?10:a,r=e.currentPage,l=void 0===r?1:r,c=t.props,o=c.dispatch,i=c.form;i.validateFields(function(e,a){if(!e){t.setState({pageSize:n,currentPage:l});var r=a;a.geographic&&(r.cityId=a.geographic.city.key,r.provinceId=a.geographic.province.key,delete r.geographic),o({type:"store/fetch",payload:r})}})},t}return L()(a,e),x()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"store/leader"}),this.handleSearch()}},{key:"renderSearchForm",value:function(){var e=this.props,a=e.form.getFieldDecorator,t=e.store.leaderList;return M.a.createElement(P["a"],null,M.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},M.a.createElement(u["a"],{md:8,sm:24},M.a.createElement(K,h()({},this.formItemLayout,{label:"\u95e8\u5e97\u540d\u79f0"}),a("name")(M.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),M.a.createElement(u["a"],{md:8,sm:24},M.a.createElement(K,h()({},this.formItemLayout,{label:"\u95e8\u5e97\u8d1f\u8d23\u4eba"}),a("leaderId")(M.a.createElement(z["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},t.map(function(e){return M.a.createElement(O,{key:e.id,value:e.id},e.name)}))))),M.a.createElement(u["a"],{md:8,sm:24},M.a.createElement(K,h()({},this.formItemLayout,{label:"\u8054\u7cfb\u65b9\u5f0f"}),a("concat")(M.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),M.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},M.a.createElement(u["a"],{md:8,sm:24},M.a.createElement(K,h()({},this.formItemLayout,{label:"\u95e8\u5e97\u72b6\u6001"}),a("status")(M.a.createElement(z["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},M.a.createElement(O,{value:"0"},"\u7981\u7528"),M.a.createElement(O,{value:"1"},"\u542f\u7528"))))),M.a.createElement(u["a"],{md:8,sm:24},M.a.createElement(K,h()({},this.formItemLayout,{label:"\u57ce\u5e02\u5730\u533a"}),a("geographic")(M.a.createElement(J["a"],null)))),M.a.createElement(u["a"],{md:8,sm:24},M.a.createElement(K,h()({},this.searchButtonLayout,{style:{textAlign:"right"}}),M.a.createElement(m["a"],{type:"primary",onClick:this.handleSearch},"\u67e5\u8be2"),M.a.createElement(m["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}},{key:"render",value:function(){var e=this.props,a=e.store.data,t=a.list,n=a.pagination,r=e.loading,l=this.state,c=l.pageSize,d=l.currentPage;return M.a.createElement(A["a"],{title:"\u5065\u8eab\u623f\u7ba1\u7406"},M.a.createElement(o["a"],{bordered:!1},M.a.createElement("div",null,M.a.createElement("div",null,this.renderSearchForm()),M.a.createElement("div",null,M.a.createElement(s["a"],{message:"\u5065\u8eab\u623f\u95e8\u5e97\u603b\u6570\u91cf\uff1a".concat(n.total||0,"\u5bb6"),type:"info"})),M.a.createElement("div",{style:{textAlign:"right",margin:"20px 0 20px 0"}},M.a.createElement(m["a"],{icon:"plus",type:"primary",onClick:function(){return j["a"].push("/store/add")}},"\u65b0\u5efa")),M.a.createElement(i["a"],{rowKey:"id",columns:this.columns,dataSource:t,loading:r,pagination:{pageSize:c,current:d},onChange:this.handleTableChange}))))}}]),a}(F["PureComponent"]),l=c))||l)||l);a["default"]=B}}]);